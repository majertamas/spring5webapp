spring.application.name=sdjpa-intro

# JPA and Hibernate settings

# Enables printing SQL statements generated by Hibernate.
spring.jpa.properties.hibernate.show_sql=true

# Formats the SQL statements printed by Hibernate.
spring.jpa.properties.hibernate.format_sql=true

# Logs parameter values bound to SQL queries, useful for debugging.
logging.level.org.hibernate.orm.jdbc.bind=trace

# Indicates the project is targeting MySQL syntax, despite using an H2 database in-memory.
spring.jpa.database=mysql

# Tells Hibernate to use MySQL 8 dialect, making it behave as if it's connecting to MySQL.
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# H2 Database configuration

# Uses an in-memory H2 database (jdbc:h2:mem:testdb)
# DB_CLOSE_DELAY=-1: Keeps the database active even when no connections are open.
# DB_CLOSE_ON_EXIT=FALSE: Prevents the database from closing when the JVM exits.
# MODE=MYSQL: Uses MySQL syntax.
# DATABASE_TO_LOWER=TRUE: Converts database names to lowercase.
# CASE_INSENSITIVE_IDENTIFIERS=TRUE: Makes database identifiers case-insensitive.
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MYSQL;DATABASE_TO_LOWER=TRUE;CASE_INSENSITIVE_IDENTIFIERS=TRUE

# Datasource credentials

spring.datasource.username=sa
spring.datasource.password=password

# DDL auto

# Hibernate validates the schema against the database tables, but doesn't update or create them.
spring.jpa.hibernate.ddl-auto=validate

# Ensures that the JPA/Hibernate layer initializes before any other data source initialization happens.
# This means Hibernate will validate or create the schema
# (depending on the spring.jpa.hibernate.ddl-auto setting)
# as soon as the application starts, even if there are initializers like Liquibase or Flyway in the project.
# This is useful if you want JPA to be fully initialized before any database scripts or logic that depend on the data source are executed.
spring.jpa.defer-datasource-initialization=false

# H2 Console

spring.h2.console.enabled=true


spring.liquibase.change-log=db/changelog-master.xml
